<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="./blackbart-main-page.html">
<link rel="import" href="./blackbart-product-page.html">


<link href="https://fonts.googleapis.com/css?family=Sacramento" rel="stylesheet">
<dom-module id="blackbart-app">
    <template>
        <style>
        :host {
            /* --primary-color: #775D94; */
            --primary-color: purple;
        }

        </style>
        <app-location route="{{route}}" use-hash-as-path></app-location>
        <app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{subroute}}">
        </app-route>

        <iron-pages id="scaffolder" selected="{{pageSelected}}">
          <blackbart-main-page></blackbart-main-page>
          <blackbart-product-page></blackbart-product-page>
          <div>page2</div>
        </iron-pages>

    </template>
    <script>
    Polymer({

        is: 'blackbart-app',
        listeners: {         
            'go-to-page' : 'changePage'
        },
        observerser: [
            "_routeChange(routeData)"
        ],
        properties: {
            currentPage: {
                type: Number,
                value: 0
            },
            currentTab: {
                type: Number
            },
            pageSelected:{
              type: Number,
              value: 0
            },
            
        },
        attached: function() {
            if (!this.route.path) {
                this.set('route.path', '/home');
            }
        },

        _routeChange: function(data) {
            console.log(data.page)
        },

        changePage: function(event,detail){
            this.set('route.path', '/' + detail.routeName);
            this.pageSelected = detail.page;
        }

      

  

    });
    </script>
</dom-module>
