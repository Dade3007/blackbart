<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">


<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">


<link rel="import" href="./blackbart-home.html">
<link rel="import" href="./blackbart-section.html">
<link rel="import" href="./blackbart-header.html">
<link rel="import" href="./blackbart-footer.html">

<link href="https://fonts.googleapis.com/css?family=Sacramento" rel="stylesheet">

<dom-module id="blackbart-app">
  <template>
    <style>
      :host {
       /* --primary-color: #775D94; */
        --primary-color: purple;
      }   

      #mainContent{
        margin:0 auto;
        max-width: 1440px;
        height: auto;
      }

      paper-item iron-icon{
        margin-right: 10px;
      }

      #drawerHeader{
        background-color: var(--primary-color);
        color: white;
        font-family: 'Sacramento';
        font-size: 35px;
        padding-top: 7px;
      }

    </style>
    <paper-drawer-panel force-narrow id="drawer">
      <paper-header-panel drawer>
       <paper-item on-tap="changeTab" sectionid="0" id="drawerHeader">Canela</paper-item>
       <paper-item on-tap="changeTab" sectionid="0"><iron-icon icon="icons:home"></iron-icon>Home</paper-item>
       <paper-item on-tap="changeTab" sectionid="1">Chaquetas</paper-item>
       <paper-item on-tap="changeTab" sectionid="2">Camisetas mujer</paper-item>
       <paper-item on-tap="changeTab" sectionid="3">Camisetas mujer</paper-item>
       <paper-item on-tap="changeTab" sectionid="4">Camisetas mujer</paper-item>
       <paper-item on-tap="changeTab" sectionid="5">Camisetas mujer</paper-item>
      </paper-header-panel>
      <paper-header-panel main>
        <blackbart-header selected="{{currentTab}}"></blackbart-header>
        <div id="mainContent">
          <iron-pages selected="[[currentPage]]">
              <blackbart-home></blackbart-home>
              <blackbart-section image="/assets/images/ladies_outerwear.jpg" title="Chaquetas"></blackbart-section>
              <blackbart-section image="/assets/images/ladies_tshirts.jpg" title="Camisetas mujer"></blackbart-section>
              <blackbart-section image="/assets/images/ladies_tshirts.jpg" title="Camisetas mujer"></blackbart-section>
              <blackbart-section image="/assets/images/ladies_tshirts.jpg" title="Camisetas mujer"></blackbart-section>
              <blackbart-section image="/assets/images/ladies_tshirts.jpg" title="Camisetas mujer"></blackbart-section>
            </div>
          </iron-pages>      
          <blackbart-footer></blackbart-footer>
        </div>

      </paper-header-panel>
    </paper-drawer-panel>


      

   
    
  </template>

  <script>
    Polymer({

      is: 'blackbart-app',
      listeners: {
        "tab-change" : "changeTab",
        "go-home" : "goHome",
        "toggle-menu" : "toggleMenu",
        "go-to" : "goTo"
      },
      properties: {
        currentPage: {
          type : Number,
          value : 0           
        },
        currentTab: {
          type : Number
        },
      },

      toggleHomeIcon: function(tab){
        this.fire("toggle-menu-icon",{currentTab: this.currentTab});  
      },

      toggleMenu: function(){
        if (window.innerWidth < 480) {

          this.$.drawer.togglePanel()
        }
      },
      
      goTo: function(event, detail){
        this.currentPage = detail.sectionId;

      },

      changeTab: function(event, detail){
        detail.tabSelected == undefined? this.currentPage = event.target.getAttribute('sectionid') : this.currentPage = detail.tabSelected + 1;
        this.toggleMenu();
      },

       goHome: function(){
        this.currentTab = undefined;
        this.currentPage = 0;
      }

    });

  </script>
</dom-module>
